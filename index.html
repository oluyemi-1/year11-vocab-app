<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VocabMaster - Year 11</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 15px;
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            color: white;
            padding: 20px 0;
        }

        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1rem;
            opacity: 0.9;
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 25px;
            color: white;
        }

        .stat {
            text-align: center;
            flex: 1;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            display: block;
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.8;
            margin-top: 2px;
        }

        .nav-buttons {
            display: grid;
            gap: 15px;
            margin-bottom: 25px;
        }

        .nav-btn {
            background: rgba(255,255,255,0.95);
            border: none;
            border-radius: 20px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .nav-btn:hover, .nav-btn:active {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.2);
        }

        .nav-btn h3 {
            font-size: 1.2rem;
            margin-bottom: 8px;
            color: #667eea;
        }

        .nav-btn p {
            color: #666;
            font-size: 0.9rem;
        }

        .game-area {
            background: rgba(255,255,255,0.95);
            border-radius: 25px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            display: none;
        }

        .game-area.active {
            display: block;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .back-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 50px;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #ee5a52;
            transform: scale(1.05);
        }

        .progress-container {
            flex: 1;
            margin: 0 15px;
        }

        .progress-bar {
            background: #e0e0e0;
            border-radius: 10px;
            height: 8px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
            width: 0%;
        }

        .progress-text {
            font-size: 0.8rem;
            color: #666;
            text-align: center;
        }

        .score {
            font-weight: bold;
            font-size: 1rem;
            color: #667eea;
        }

        .question-card {
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f2ff 100%);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 5px solid #667eea;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .question-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 1rem;
            margin-bottom: 20px;
            color: #333;
        }

        .word-display {
            font-size: 1.4rem;
            font-weight: bold;
            color: #764ba2;
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: rgba(118, 75, 162, 0.1);
            border-radius: 15px;
        }

        .definition-display {
            font-size: 1rem;
            color: #555;
            text-align: center;
            margin: 15px 0;
            font-style: italic;
        }

        .options-grid {
            display: grid;
            gap: 12px;
            margin-bottom: 20px;
        }

        .option-btn {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 0.95rem;
        }

        .option-btn:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
            transform: translateY(-2px);
        }

        .option-btn.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .option-btn.correct {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        .option-btn.incorrect {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            min-width: 100px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }

        .feedback {
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            text-align: left;
            font-weight: 500;
            line-height: 1.6;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .feedback.correct {
            background: rgba(40, 167, 69, 0.1);
            color: #28a745;
            border: 2px solid rgba(40, 167, 69, 0.3);
        }

        .feedback.incorrect {
            background: rgba(220, 53, 69, 0.1);
            color: #dc3545;
            border: 2px solid rgba(220, 53, 69, 0.3);
        }

        .feedback .definition-context {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(0,0,0,0.1);
            font-style: italic;
            opacity: 0.9;
        }

        .completion-screen {
            text-align: center;
            padding: 30px 20px;
        }

        .completion-screen h2 {
            color: #667eea;
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .completion-screen .final-score {
            font-size: 1.5rem;
            color: #764ba2;
            font-weight: bold;
            margin: 20px 0;
        }

        .completion-screen .encouragement {
            color: #666;
            margin: 15px 0;
            font-size: 1.1rem;
        }

        /* Responsive adjustments */
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .game-area {
                padding: 20px;
            }
            
            .stats-bar {
                padding: 12px;
            }
            
            .stat-number {
                font-size: 1.3rem;
            }
        }

        .shake {
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .pulse {
            animation: pulse 0.6s;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Main Menu -->
        <div id="main-menu">
            <div class="header">
                <h1>📚 VocabMaster</h1>
                <p>Year 11 Interactive Vocabulary</p>
            </div>

            <div class="stats-bar">
                <div class="stat">
                    <span class="stat-number" id="total-words">1200+</span>
                    <span class="stat-label">Words</span>
                </div>
                <div class="stat">
                    <span class="stat-number" id="completed-exercises">0</span>
                    <span class="stat-label">Completed</span>
                </div>
                <div class="stat">
                    <span class="stat-number" id="accuracy">0%</span>
                    <span class="stat-label">Accuracy</span>
                </div>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn" onclick="startGame('definitions')">
                    <h3>📖 Definitions</h3>
                    <p>Match words with their meanings</p>
                </button>
                
                <button class="nav-btn" onclick="startGame('synonyms')">
                    <h3>🔄 Synonyms</h3>
                    <p>Find words with similar meanings</p>
                </button>
                
                <button class="nav-btn" onclick="startGame('antonyms')">
                    <h3>⚡ Antonyms</h3>
                    <p>Find words with opposite meanings</p>
                </button>
                
                <button class="nav-btn" onclick="startGame('sentence-completion')">
                    <h3>✏️ Complete Sentences</h3>
                    <p>Fill in the missing words</p>
                </button>
                
                <button class="nav-btn" onclick="startGame('word-formation')">
                    <h3>🔨 Word Formation</h3>
                    <p>Build new words from roots</p>
                </button>
                
                <button class="nav-btn" onclick="startGame('mixed-review')">
                    <h3>🎲 Mixed Review</h3>
                    <p>Random mix of all exercises</p>
                </button>
            </div>
        </div>

        <!-- Game Area -->
        <div id="game-area" class="game-area">
            <div class="game-header">
                <button class="back-btn" onclick="goHome()">← Back</button>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div class="progress-text" id="progress-text">0 / 10</div>
                </div>
                <div class="score" id="current-score">Score: 0</div>
            </div>

            <div class="question-card">
                <div class="question-title" id="question-title">Question 1</div>
                <div class="question-text" id="question-text"></div>
                <div id="question-content"></div>
                
                <div class="action-buttons">
                    <button class="btn btn-primary" id="submit-btn" onclick="submitAnswer()">Submit</button>
                </div>
            </div>

            <div id="feedback" class="feedback" style="display: none;"></div>
        </div>
    </div>

    <script>
        // Comprehensive vocabulary data for Year 11 - CLEANED VERSION
        const vocabularyData = {
            definitions: [
                // A words
                { word: "aberrant", definition: "departing from an accepted standard", options: ["normal", "deviant", "typical", "conventional"], correct: "deviant" },
                { word: "abject", definition: "extremely bad, unpleasant, and degrading", options: ["pleasant", "miserable", "happy", "comfortable"], correct: "miserable" },
                { word: "abnegate", definition: "to renounce or reject something", options: ["accept", "deny", "embrace", "welcome"], correct: "deny" },
                { word: "abstruse", definition: "difficult to understand; obscure", options: ["clear", "complex", "simple", "obvious"], correct: "complex" },
                { word: "accolade", definition: "an award or privilege granted as a special honor", options: ["punishment", "honor", "criticism", "penalty"], correct: "honor" },
                { word: "acrimonious", definition: "angry and bitter", options: ["sweet", "bitter", "kind", "gentle"], correct: "bitter" },
                { word: "adroit", definition: "clever or skillful", options: ["clumsy", "skillful", "awkward", "incompetent"], correct: "skillful" },
                { word: "aesthetic", definition: "concerned with beauty or the appreciation of beauty", options: ["ugly", "beautiful", "plain", "unattractive"], correct: "beautiful" },
                { word: "affable", definition: "friendly, good-natured, or easy to talk to", options: ["unfriendly", "friendly", "hostile", "mean"], correct: "friendly" },
                { word: "alacrity", definition: "brisk and cheerful readiness", options: ["reluctance", "eagerness", "slowness", "hesitation"], correct: "eagerness" },
                
                // B words
                { word: "banal", definition: "so lacking in originality as to be obvious", options: ["original", "boring", "creative", "unique"], correct: "boring" },
                { word: "bellicose", definition: "demonstrating aggression and willingness to fight", options: ["peaceful", "aggressive", "calm", "gentle"], correct: "aggressive" },
                { word: "benign", definition: "gentle and harmless", options: ["harmful", "harmless", "dangerous", "threatening"], correct: "harmless" },
                { word: "bombastic", definition: "high-sounding but with little meaning", options: ["meaningful", "pompous", "simple", "clear"], correct: "pompous" },
                { word: "bucolic", definition: "relating to the pleasant aspects of countryside", options: ["urban", "rural", "industrial", "metropolitan"], correct: "rural" },
                
                // C words
                { word: "cacophony", definition: "a harsh, discordant mixture of sounds", options: ["harmony", "discord", "melody", "rhythm"], correct: "discord" },
                { word: "cajole", definition: "to persuade someone to do something by coaxing", options: ["force", "coax", "threaten", "command"], correct: "coax" },
                { word: "callous", definition: "showing or having an insensitive disregard", options: ["sensitive", "insensitive", "caring", "compassionate"], correct: "insensitive" },
                { word: "candor", definition: "the quality of being open and honest", options: ["dishonesty", "honesty", "deception", "secrecy"], correct: "honesty" },
                { word: "capricious", definition: "given to sudden changes of mood or behavior", options: ["consistent", "unpredictable", "stable", "reliable"], correct: "unpredictable" },
                
                // D words
                { word: "debacle", definition: "a sudden and ignominious failure", options: ["success", "disaster", "victory", "triumph"], correct: "disaster" },
                { word: "decorous", definition: "in keeping with good taste and propriety", options: ["improper", "proper", "inappropriate", "vulgar"], correct: "proper" },
                { word: "deleterious", definition: "causing harm or damage", options: ["beneficial", "harmful", "helpful", "positive"], correct: "harmful" },
                { word: "denigrate", definition: "to criticize unfairly; disparage", options: ["praise", "criticize", "compliment", "honor"], correct: "criticize" },
                { word: "diffident", definition: "modest or shy because of a lack of confidence", options: ["confident", "shy", "bold", "assertive"], correct: "shy" },
                
                // E words
                { word: "ebullient", definition: "cheerful and full of energy", options: ["gloomy", "enthusiastic", "depressed", "sad"], correct: "enthusiastic" },
                { word: "eclectic", definition: "deriving ideas from a broad range of sources", options: ["narrow", "varied", "limited", "restricted"], correct: "varied" },
                { word: "efficacious", definition: "successful in producing a desired result", options: ["ineffective", "effective", "useless", "unsuccessful"], correct: "effective" },
                { word: "egregious", definition: "outstandingly bad; shocking", options: ["excellent", "terrible", "good", "admirable"], correct: "terrible" },
                { word: "enigmatic", definition: "difficult to interpret or understand", options: ["clear", "mysterious", "obvious", "simple"], correct: "mysterious" },
                
                // F-Z words (continuing with key vocabulary)
                { word: "facetious", definition: "treating serious issues with inappropriate humor", options: ["serious", "flippant", "grave", "solemn"], correct: "flippant" },
                { word: "gregarious", definition: "fond of the company of others", options: ["antisocial", "sociable", "solitary", "withdrawn"], correct: "sociable" },
                { word: "hackneyed", definition: "lacking in freshness or originality", options: ["original", "clichéd", "fresh", "innovative"], correct: "clichéd" },
                { word: "iconoclast", definition: "a person who attacks cherished beliefs", options: ["conformist", "rebel", "traditionalist", "conservative"], correct: "rebel" },
                { word: "judicious", definition: "having or showing good judgment", options: ["poor judgment", "wise", "foolish", "reckless"], correct: "wise" },
                { word: "laconic", definition: "using few words; terse", options: ["verbose", "brief", "wordy", "lengthy"], correct: "brief" },
                { word: "magnanimous", definition: "generous or forgiving", options: ["petty", "generous", "mean", "vindictive"], correct: "generous" },
                { word: "nascent", definition: "just coming into existence", options: ["dying", "emerging", "established", "mature"], correct: "emerging" },
                { word: "obdurate", definition: "stubbornly refusing to change opinion", options: ["flexible", "stubborn", "yielding", "compliant"], correct: "stubborn" },
                { word: "palpable", definition: "able to be touched or felt", options: ["intangible", "tangible", "invisible", "imperceptible"], correct: "tangible" },
                { word: "quixotic", definition: "extremely idealistic and unrealistic", options: ["practical", "idealistic", "realistic", "sensible"], correct: "idealistic" },
                { word: "rancorous", definition: "characterized by bitterness or resentment", options: ["forgiving", "bitter", "kind", "merciful"], correct: "bitter" },
                { word: "sagacious", definition: "having good judgment", options: ["foolish", "wise", "stupid", "unwise"], correct: "wise" },
                { word: "taciturn", definition: "reserved or uncommunicative in speech", options: ["talkative", "quiet", "chatty", "verbose"], correct: "quiet" },
                { word: "ubiquitous", definition: "present, appearing, or found everywhere", options: ["rare", "everywhere", "absent", "scarce"], correct: "everywhere" },
                { word: "vacillate", definition: "to alternate between different opinions", options: ["be firm", "waver", "be decisive", "be certain"], correct: "waver" },
                { word: "winsome", definition: "attractive or appealing in appearance", options: ["unattractive", "charming", "repulsive", "ugly"], correct: "charming" },
                { word: "xenophobia", definition: "dislike of people from other countries", options: ["tolerance", "prejudice", "acceptance", "welcome"], correct: "prejudice" },
                { word: "zeal", definition: "great energy or enthusiasm", options: ["apathy", "enthusiasm", "indifference", "laziness"], correct: "enthusiasm" }
            ],

            synonyms: [
                { word: "affluent", synonyms: ["poor", "wealthy", "needy"], answer: "wealthy" },
                { word: "aggressive", synonyms: ["passive", "hostile", "peaceful"], answer: "hostile" },
                { word: "agile", synonyms: ["clumsy", "nimble", "slow"], answer: "nimble" },
                { word: "alleviate", synonyms: ["worsen", "relieve", "increase"], answer: "relieve" },
                { word: "ambiguous", synonyms: ["clear", "vague", "obvious"], answer: "vague" },
                { word: "ample", synonyms: ["small", "large", "tiny"], answer: "large" },
                { word: "ancient", synonyms: ["modern", "old", "new"], answer: "old" },
                { word: "apparent", synonyms: ["hidden", "obvious", "unclear"], answer: "obvious" },
                { word: "ardent", synonyms: ["cold", "passionate", "indifferent"], answer: "passionate" },
                { word: "articulate", synonyms: ["unclear", "eloquent", "confused"], answer: "eloquent" },
                { word: "astute", synonyms: ["foolish", "clever", "stupid"], answer: "clever" },
                { word: "authentic", synonyms: ["fake", "genuine", "false"], answer: "genuine" },
                { word: "benevolent", synonyms: ["cruel", "kind", "harsh"], answer: "kind" },
                { word: "cogent", synonyms: ["weak", "compelling", "unclear"], answer: "compelling" },
                { word: "cordial", synonyms: ["cold", "warm", "hostile"], answer: "warm" },
                { word: "cryptic", synonyms: ["clear", "enigmatic", "obvious"], answer: "enigmatic" },
                { word: "ebullient", synonyms: ["gloomy", "exuberant", "depressed"], answer: "exuberant" },
                { word: "facetious", synonyms: ["serious", "frivolous", "grave"], answer: "frivolous" },
                { word: "garrulous", synonyms: ["quiet", "loquacious", "silent"], answer: "loquacious" },
                { word: "hackneyed", synonyms: ["original", "banal", "fresh"], answer: "banal" },
                { word: "iconoclast", synonyms: ["conformist", "rebel", "traditionalist"], answer: "rebel" },
                { word: "judicious", synonyms: ["poor judgment", "prudent", "foolish"], answer: "prudent" },
                { word: "laconic", synonyms: ["verbose", "concise", "wordy"], answer: "concise" },
                { word: "magnanimous", synonyms: ["petty", "noble", "mean"], answer: "noble" },
                { word: "nascent", synonyms: ["dying", "budding", "established"], answer: "budding" },
                { word: "obdurate", synonyms: ["flexible", "obstinate", "yielding"], answer: "obstinate" },
                { word: "palpable", synonyms: ["intangible", "tangible", "invisible"], answer: "tangible" },
                { word: "quixotic", synonyms: ["practical", "idealistic", "realistic"], answer: "idealistic" },
                { word: "rancorous", synonyms: ["forgiving", "spiteful", "kind"], answer: "spiteful" },
                { word: "sagacious", synonyms: ["foolish", "wise", "stupid"], answer: "wise" },
                { word: "taciturn", synonyms: ["talkative", "reticent", "chatty"], answer: "reticent" },
                { word: "ubiquitous", synonyms: ["rare", "omnipresent", "absent"], answer: "omnipresent" },
                { word: "vacillate", synonyms: ["be firm", "fluctuate", "be decisive"], answer: "fluctuate" },
                { word: "winsome", synonyms: ["unattractive", "engaging", "repulsive"], answer: "engaging" },
                { word: "zeal", synonyms: ["apathy", "fervor", "indifference"], answer: "fervor" }
            ],

            antonyms: [
                { word: "abundant", antonym: "scarce", options: ["plenty", "scarce", "wealth", "excess"] },
                { word: "accept", antonym: "reject", options: ["receive", "reject", "welcome", "embrace"] },
                { word: "accurate", antonym: "incorrect", options: ["right", "incorrect", "precise", "exact"] },
                { word: "advance", antonym: "retreat", options: ["progress", "retreat", "move", "forward"] },
                { word: "agree", antonym: "disagree", options: ["consent", "disagree", "accept", "approve"] },
                { word: "ancient", antonym: "modern", options: ["old", "modern", "historic", "past"] },
                { word: "angry", antonym: "calm", options: ["furious", "calm", "mad", "irritated"] },
                { word: "appear", antonym: "disappear", options: ["show", "disappear", "emerge", "arrive"] },
                { word: "artificial", antonym: "natural", options: ["fake", "natural", "synthetic", "manufactured"] },
                { word: "attack", antonym: "defend", options: ["assault", "defend", "strike", "charge"] },
                { word: "attract", antonym: "repel", options: ["draw", "repel", "pull", "lure"] },
                { word: "beautiful", antonym: "ugly", options: ["attractive", "ugly", "pretty", "lovely"] },
                { word: "begin", antonym: "end", options: ["start", "end", "commence", "initiate"] },
                { word: "big", antonym: "small", options: ["large", "small", "huge", "enormous"] },
                { word: "brave", antonym: "cowardly", options: ["courageous", "cowardly", "bold", "fearless"] },
                { word: "bright", antonym: "dim", options: ["brilliant", "dim", "shining", "radiant"] },
                { word: "build", antonym: "destroy", options: ["construct", "destroy", "create", "make"] },
                { word: "buy", antonym: "sell", options: ["purchase", "sell", "acquire", "get"] },
                { word: "calm", antonym: "agitated", options: ["peaceful", "agitated", "serene", "quiet"] },
                { word: "certain", antonym: "doubtful", options: ["sure", "doubtful", "confident", "positive"] },
                { word: "clever", antonym: "stupid", options: ["smart", "stupid", "intelligent", "bright"] },
                { word: "close", antonym: "open", options: ["shut", "open", "near", "tight"] },
                { word: "cold", antonym: "hot", options: ["freezing", "hot", "cool", "chilly"] },
                { word: "complex", antonym: "simple", options: ["complicated", "simple", "difficult", "intricate"] },
                { word: "cruel", antonym: "kind", options: ["mean", "kind", "harsh", "brutal"] },
                { word: "dark", antonym: "light", options: ["black", "light", "dim", "shadow"] },
                { word: "difficult", antonym: "easy", options: ["hard", "easy", "tough", "challenging"] },
                { word: "empty", antonym: "full", options: ["vacant", "full", "hollow", "blank"] },
                { word: "enemy", antonym: "friend", options: ["foe", "friend", "rival", "opponent"] },
                { word: "entrance", antonym: "exit", options: ["entry", "exit", "door", "gate"] },
                { word: "expand", antonym: "contract", options: ["grow", "contract", "enlarge", "increase"] },
                { word: "expensive", antonym: "cheap", options: ["costly", "cheap", "dear", "valuable"] },
                { word: "export", antonym: "import", options: ["send out", "import", "ship", "sell"] },
                { word: "external", antonym: "internal", options: ["outside", "internal", "outer", "exterior"] },
                { word: "failure", antonym: "success", options: ["defeat", "success", "loss", "mistake"] },
                { word: "false", antonym: "true", options: ["wrong", "true", "incorrect", "fake"] },
                { word: "far", antonym: "near", options: ["distant", "near", "remote", "away"] },
                { word: "fast", antonym: "slow", options: ["quick", "slow", "rapid", "swift"] },
                { word: "first", antonym: "last", options: ["initial", "last", "beginning", "primary"] },
                { word: "forget", antonym: "remember", options: ["overlook", "remember", "ignore", "neglect"] },
                { word: "freedom", antonym: "slavery", options: ["liberty", "slavery", "independence", "rights"] },
                { word: "fresh", antonym: "stale", options: ["new", "stale", "clean", "crisp"] },
                { word: "guilty", antonym: "innocent", options: ["responsible", "innocent", "blameworthy", "culpable"] },
                { word: "happy", antonym: "sad", options: ["joyful", "sad", "cheerful", "glad"] },
                { word: "hard", antonym: "soft", options: ["tough", "soft", "solid", "firm"] },
                { word: "hate", antonym: "love", options: ["despise", "love", "dislike", "loathe"] },
                { word: "healthy", antonym: "sick", options: ["well", "sick", "fit", "strong"] },
                { word: "heavy", antonym: "light", options: ["weighty", "light", "massive", "dense"] },
                { word: "high", antonym: "low", options: ["tall", "low", "elevated", "up"] },
                { word: "honest", antonym: "dishonest", options: ["truthful", "dishonest", "sincere", "frank"] },
                { word: "hope", antonym: "despair", options: ["optimism", "despair", "faith", "trust"] },
                { word: "huge", antonym: "tiny", options: ["enormous", "tiny", "massive", "gigantic"] }
            ],

            sentenceCompletion: [
                {
                    sentence: "The teacher's explanation was so _____ that even the most confused students understood.",
                    word: "lucid",
                    options: ["obscure", "lucid", "complex", "vague"]
                },
                {
                    sentence: "Despite the _____ weather, the hikers continued their journey up the mountain.",
                    word: "adverse",
                    options: ["favorable", "adverse", "pleasant", "mild"]
                },
                {
                    sentence: "The politician's _____ speech failed to convince the skeptical audience.",
                    word: "eloquent",
                    options: ["eloquent", "inarticulate", "clear", "persuasive"]
                },
                {
                    sentence: "Her _____ attitude toward work earned her a promotion within six months.",
                    word: "diligent",
                    options: ["lazy", "careless", "diligent", "negligent"]
                },
                {
                    sentence: "The ancient manuscript was so _____ that scholars spent years deciphering it.",
                    word: "cryptic",
                    options: ["clear", "simple", "cryptic", "obvious"]
                },
                {
                    sentence: "The company's _____ policies resulted in high employee turnover.",
                    word: "draconian",
                    options: ["lenient", "fair", "draconian", "reasonable"]
                },
                {
                    sentence: "His _____ remarks during the meeting offended several colleagues.",
                    word: "tactless",
                    options: ["thoughtful", "tactless", "considerate", "diplomatic"]
                },
                {
                    sentence: "The evidence presented was so _____ that the jury reached a quick verdict.",
                    word: "compelling",
                    options: ["weak", "compelling", "doubtful", "insufficient"]
                },
                {
                    sentence: "She showed remarkable _____ in the face of personal tragedy.",
                    word: "fortitude",
                    options: ["weakness", "fortitude", "despair", "fragility"]
                },
                {
                    sentence: "The artist's _____ use of color created a stunning visual effect.",
                    word: "judicious",
                    options: ["careless", "judicious", "random", "thoughtless"]
                },
                {
                    sentence: "The CEO's _____ decision to expand internationally proved very profitable.",
                    word: "astute",
                    options: ["foolish", "astute", "reckless", "impulsive"]
                },
                {
                    sentence: "The protesters remained _____ despite police attempts to disperse them.",
                    word: "resolute",
                    options: ["wavering", "resolute", "uncertain", "hesitant"]
                },
                {
                    sentence: "His _____ lifestyle contributed to his poor health and low energy.",
                    word: "sedentary",
                    options: ["active", "sedentary", "vigorous", "energetic"]
                },
                {
                    sentence: "The novel's _____ plot kept readers guessing until the final chapter.",
                    word: "intricate",
                    options: ["simple", "intricate", "straightforward", "basic"]
                },
                {
                    sentence: "The committee's _____ deliberations lasted well into the night.",
                    word: "protracted",
                    options: ["brief", "protracted", "quick", "hasty"]
                },
                {
                    sentence: "The scientist's _____ research led to groundbreaking discoveries.",
                    word: "meticulous",
                    options: ["careless", "meticulous", "hasty", "sloppy"]
                },
                {
                    sentence: "The _____ storm caused widespread damage across the region.",
                    word: "devastating",
                    options: ["mild", "devastating", "gentle", "light"]
                },
                {
                    sentence: "Her _____ personality made her popular among her peers.",
                    word: "gregarious",
                    options: ["antisocial", "gregarious", "withdrawn", "shy"]
                },
                {
                    sentence: "The _____ student always completed assignments ahead of schedule.",
                    word: "conscientious",
                    options: ["lazy", "conscientious", "careless", "irresponsible"]
                },
                {
                    sentence: "The restaurant's _____ atmosphere attracted many young professionals.",
                    word: "vibrant",
                    options: ["dull", "vibrant", "boring", "lifeless"]
                },
                {
                    sentence: "The lawyer's _____ argument convinced the jury of his client's innocence.",
                    word: "compelling",
                    options: ["weak", "compelling", "poor", "unconvincing"]
                },
                {
                    sentence: "Her _____ performance in the play earned her a standing ovation.",
                    word: "stellar",
                    options: ["mediocre", "stellar", "disappointing", "lackluster"]
                },
                {
                    sentence: "The _____ businessman refused to compromise his ethical standards.",
                    word: "principled",
                    options: ["corrupt", "principled", "dishonest", "flexible"]
                },
                {
                    sentence: "The mountain climber showed remarkable _____ in extreme conditions.",
                    word: "tenacity",
                    options: ["weakness", "tenacity", "fear", "hesitation"]
                },
                {
                    sentence: "The professor's _____ lecture put half the class to sleep.",
                    word: "monotonous",
                    options: ["engaging", "monotonous", "exciting", "captivating"]
                },
                {
                    sentence: "The detective's _____ observation skills helped solve the case.",
                    word: "acute",
                    options: ["poor", "acute", "weak", "dull"]
                },
                {
                    sentence: "Despite her _____ schedule, she always made time for friends.",
                    word: "hectic",
                    options: ["relaxed", "hectic", "easy", "simple"]
                },
                {
                    sentence: "The artist's _____ use of color created a masterpiece.",
                    word: "innovative",
                    options: ["traditional", "innovative", "conventional", "ordinary"]
                },
                {
                    sentence: "The _____ aroma of fresh bread filled the bakery.",
                    word: "tantalizing",
                    options: ["repulsive", "tantalizing", "unpleasant", "offensive"]
                },
                {
                    sentence: "His _____ commitment to charity work inspired many volunteers.",
                    word: "unwavering",
                    options: ["weak", "unwavering", "inconsistent", "variable"]
                }
            ],

            wordFormation: [
                { root: "spect", meaning: "to look", examples: ["inspect", "respect", "prospect", "spectacle"] },
                { root: "port", meaning: "to carry", examples: ["transport", "export", "import", "portable"] },
                { root: "dict", meaning: "to say", examples: ["dictate", "predict", "contradict", "verdict"] },
                { root: "scrib/script", meaning: "to write", examples: ["describe", "prescribe", "manuscript", "inscription"] },
                { root: "aud", meaning: "to hear", examples: ["audience", "audible", "auditorium", "audio"] },
                { root: "vis/vid", meaning: "to see", examples: ["vision", "video", "visible", "evidence"] },
                { root: "cred", meaning: "to believe", examples: ["credit", "credible", "incredible", "credential"] },
                { root: "duc/duct", meaning: "to lead", examples: ["conduct", "reduce", "produce", "induction"] },
                { root: "fac/fact", meaning: "to make", examples: ["factory", "manufacture", "artifact", "faction"] },
                { root: "struct", meaning: "to build", examples: ["construct", "structure", "instruct", "destruction"] },
                { root: "form", meaning: "shape", examples: ["transform", "conform", "deform", "uniform"] },
                { root: "tract", meaning: "to pull", examples: ["attract", "contract", "extract", "distract"] },
                { root: "ject", meaning: "to throw", examples: ["project", "reject", "inject", "subject"] },
                { root: "mit/miss", meaning: "to send", examples: ["transmit", "mission", "permit", "submit"] },
                { root: "graph", meaning: "to write", examples: ["photograph", "biography", "autograph", "telegraph"] },
                { root: "log", meaning: "word/study", examples: ["biology", "psychology", "dialogue", "catalog"] },
                { root: "phon", meaning: "sound", examples: ["telephone", "microphone", "symphony", "phonics"] },
                { root: "geo", meaning: "earth", examples: ["geography", "geology", "geometry", "geothermal"] },
                { root: "bio", meaning: "life", examples: ["biology", "biography", "antibiotic", "biodegradable"] },
                { root: "chron", meaning: "time", examples: ["chronological", "synchronize", "chronicle", "chronic"] },
                { root: "cogn", meaning: "to know", examples: ["recognize", "cognitive", "incognito", "cognizant"] },
                { root: "temp", meaning: "time", examples: ["temporary", "contemporary", "temporal", "tempo"] },
                { root: "man", meaning: "hand", examples: ["manual", "manufacture", "manuscript", "manipulate"] },
                { root: "cap/capt", meaning: "to take", examples: ["capture", "captive", "caption", "capacity"] },
                { root: "sent/sens", meaning: "to feel", examples: ["sentiment", "sensitive", "sensory", "sensation"] },
                { root: "loc", meaning: "place", examples: ["location", "allocate", "relocate", "locomotive"] },
                { root: "terr", meaning: "earth/land", examples: ["territory", "terrain", "terrestrial", "terrace"] },
                { root: "mort", meaning: "death", examples: ["mortal", "immortal", "mortuary", "mortgage"] },
                { root: "viv", meaning: "life", examples: ["vivid", "survive", "revival", "vivacious"] },
                { root: "flu/flux", meaning: "to flow", examples: ["fluid", "influence", "confluence", "fluctuate"] },
                { root: "psych", meaning: "mind", examples: ["psychology", "psychic", "psychiatry", "psyche"] },
                { root: "path", meaning: "feeling/disease", examples: ["sympathy", "pathology", "empathy", "apathy"] },
                { root: "gen", meaning: "birth/kind", examples: ["generate", "generation", "genetics", "genuine"] },
                { root: "dem", meaning: "people", examples: ["democracy", "demographic", "epidemic", "demagogue"] },
                { root: "phil", meaning: "love", examples: ["philosophy", "philanthropy", "Philadelphia", "philharmonic"] },
                { root: "auto", meaning: "self", examples: ["automatic", "automobile", "autobiography", "autonomous"] },
                { root: "tele", meaning: "far", examples: ["telephone", "television", "telescope", "telecommute"] },
                { root: "micro", meaning: "small", examples: ["microscope", "microphone", "microwave", "microorganism"] },
                { root: "macro", meaning: "large", examples: ["macroscopic", "macroeconomics", "macrobiotics", "macrocosm"] },
                { root: "poly", meaning: "many", examples: ["polygon", "polynomial", "polyglot", "polygamy"] },
                { root: "mono", meaning: "one", examples: ["monopoly", "monologue", "monotone", "monarchy"] },
                { root: "multi", meaning: "many", examples: ["multiple", "multimedia", "multicultural", "multiverse"] },
                { root: "neo", meaning: "new", examples: ["neonatal", "neoclassical", "neophyte", "neologism"] },
                { root: "proto", meaning: "first", examples: ["prototype", "protocol", "protozoa", "protagonist"] },
                { root: "hyper", meaning: "over/above", examples: ["hyperactive", "hyperbole", "hypertension", "hyperlink"] },
                { root: "hypo", meaning: "under/below", examples: ["hypothesis", "hypocrite", "hypodermic", "hypoglycemia"] },
                { root: "super", meaning: "above/over", examples: ["superior", "supernatural", "supervise", "superfluous"] },
                { root: "sub", meaning: "under/below", examples: ["submarine", "subconscious", "substitute", "subway"] },
                { root: "inter", meaning: "between", examples: ["international", "interact", "interrupt", "interval"] },
                { root: "intra", meaning: "within", examples: ["intramural", "intravenous", "intranet", "intracellular"] },
                { root: "extra", meaning: "outside/beyond", examples: ["extraordinary", "extraterrestrial", "extracurricular", "extract"] },
                { root: "ultra", meaning: "beyond/extreme", examples: ["ultraviolet", "ultrasonic", "ultramodern", "ultra-conservative"] },
                { root: "trans", meaning: "across/through", examples: ["transport", "transform", "translate", "transparent"] },
                { root: "circum", meaning: "around", examples: ["circumference", "circumstance", "circumnavigate", "circumvent"] }
            ]
        };

        // Game state
        let currentGame = null;
        let currentQuestion = 0;
        let score = 0;
        let totalQuestions = 10;
        let questions = [];
        let answered = false;
        let stats = {
            totalCompleted: 0,
            totalCorrect: 0,
            totalAnswered: 0
        };

        // Update stats display
        function updateStatsDisplay() {
            document.getElementById('completed-exercises').textContent = stats.totalCompleted;
            const accuracy = stats.totalAnswered > 0 ? Math.round((stats.totalCorrect / stats.totalAnswered) * 100) : 0;
            document.getElementById('accuracy').textContent = accuracy + '%';
        }

        // Shuffle array function
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // Start a game
        function startGame(gameType) {
            currentGame = gameType;
            currentQuestion = 0;
            score = 0;
            answered = false;
            
            // Prepare questions based on game type
            switch(gameType) {
                case 'definitions':
                    questions = shuffleArray(vocabularyData.definitions).slice(0, totalQuestions);
                    break;
                case 'synonyms':
                    questions = shuffleArray(vocabularyData.synonyms).slice(0, totalQuestions);
                    break;
                case 'antonyms':
                    questions = shuffleArray(vocabularyData.antonyms).slice(0, totalQuestions);
                    break;
                case 'sentence-completion':
                    questions = shuffleArray(vocabularyData.sentenceCompletion).slice(0, totalQuestions);
                    break;
                case 'word-formation':
                    questions = generateWordFormationQuestions();
                    break;
                case 'mixed-review':
                    questions = generateMixedQuestions();
                    break;
            }
            
            // Show game area
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById('game-area').style.display = 'block';
            document.getElementById('game-area').classList.add('active');
            
            // Start first question
            displayQuestion();
        }

        // Generate word formation questions
        function generateWordFormationQuestions() {
            const formationQuestions = [];
            const roots = shuffleArray(vocabularyData.wordFormation).slice(0, totalQuestions);
            
            roots.forEach(root => {
                const correctExample = root.examples[Math.floor(Math.random() * root.examples.length)];
                const wrongOptions = [];
                
                // Generate some wrong options from other roots
                const otherRoots = vocabularyData.wordFormation.filter(r => r.root !== root.root);
                const randomRoots = shuffleArray(otherRoots).slice(0, 3);
                randomRoots.forEach(r => {
                    wrongOptions.push(r.examples[Math.floor(Math.random() * r.examples.length)]);
                });
                
                formationQuestions.push({
                    type: 'word-formation',
                    root: root.root,
                    meaning: root.meaning,
                    word: correctExample,
                    options: shuffleArray([correctExample, ...wrongOptions])
                });
            });
            
            return formationQuestions;
        }

        // Generate mixed questions
        function generateMixedQuestions() {
            const mixed = [];
            const typesCount = Math.floor(totalQuestions / 5);
            
            mixed.push(...shuffleArray(vocabularyData.definitions).slice(0, typesCount));
            mixed.push(...shuffleArray(vocabularyData.synonyms).slice(0, typesCount));
            mixed.push(...shuffleArray(vocabularyData.antonyms).slice(0, typesCount));
            mixed.push(...shuffleArray(vocabularyData.sentenceCompletion).slice(0, typesCount));
            mixed.push(...shuffleArray(vocabularyData.definitions).slice(0, totalQuestions - mixed.length));
            
            return shuffleArray(mixed);
        }

        // Display current question
        function displayQuestion() {
            if (currentQuestion >= questions.length) {
                showCompletionScreen();
                return;
            }

            answered = false;
            const question = questions[currentQuestion];
            
            // Update progress
            updateProgress();
            
            // Update question title
            document.getElementById('question-title').textContent = `Question ${currentQuestion + 1}`;
            
            // Clear previous content
            document.getElementById('question-content').innerHTML = '';
            document.getElementById('feedback').style.display = 'none';
            
            // Display question based on type
            switch(currentGame) {
                case 'definitions':
                    displayDefinitionQuestion(question);
                    break;
                case 'synonyms':
                    displaySynonymQuestion(question);
                    break;
                case 'antonyms':
                    displayAntonymQuestion(question);
                    break;
                case 'sentence-completion':
                    displaySentenceCompletionQuestion(question);
                    break;
                case 'word-formation':
                    displayWordFormationQuestion(question);
                    break;
                case 'mixed-review':
                    displayMixedQuestion(question);
                    break;
            }
        }

        // Display definition question
        function displayDefinitionQuestion(question) {
            document.getElementById('question-text').textContent = 'What does this word mean?';
            
            const content = document.getElementById('question-content');
            content.innerHTML = `
                <div class="word-display">${question.word}</div>
                <div class="options-grid">
                    ${question.options.map((option, index) => 
                        `<button class="option-btn" onclick="selectOption(${index}, '${option}')">${option}</button>`
                    ).join('')}
                </div>
            `;
        }

        // Display synonym question
        function displaySynonymQuestion(question) {
            document.getElementById('question-text').textContent = 'Which word is a synonym for:';
            
            const content = document.getElementById('question-content');
            content.innerHTML = `
                <div class="word-display">${question.word}</div>
                <div class="options-grid">
                    ${question.synonyms.map((option, index) => 
                        `<button class="option-btn" onclick="selectOption(${index}, '${option}')">${option}</button>`
                    ).join('')}
                </div>
            `;
        }

        // Display antonym question
        function displayAntonymQuestion(question) {
            document.getElementById('question-text').textContent = 'Which word is the opposite (antonym) of:';
            
            const content = document.getElementById('question-content');
            content.innerHTML = `
                <div class="word-display">${question.word}</div>
                <div class="options-grid">
                    ${question.options.map((option, index) => 
                        `<button class="option-btn" onclick="selectOption(${index}, '${option}')">${option}</button>`
                    ).join('')}
                </div>
            `;
        }

        // Display sentence completion question
        function displaySentenceCompletionQuestion(question) {
            document.getElementById('question-text').textContent = 'Complete the sentence with the most appropriate word:';
            
            const content = document.getElementById('question-content');
            content.innerHTML = `
                <div class="definition-display">"${question.sentence}"</div>
                <div class="options-grid">
                    ${question.options.map((option, index) => 
                        `<button class="option-btn" onclick="selectOption(${index}, '${option}')">${option}</button>`
                    ).join('')}
                </div>
            `;
        }

        // Display word formation question
        function displayWordFormationQuestion(question) {
            document.getElementById('question-text').textContent = 'Which word contains the root meaning:';
            
            const content = document.getElementById('question-content');
            content.innerHTML = `
                <div class="word-display">${question.root} - "${question.meaning}"</div>
                <div class="options-grid">
                    ${question.options.map((option, index) => 
                        `<button class="option-btn" onclick="selectOption(${index}, '${option}')">${option}</button>`
                    ).join('')}
                </div>
            `;
        }

        // Display mixed question
        function displayMixedQuestion(question) {
            if (question.definition) {
                displayDefinitionQuestion(question);
            } else if (question.synonyms) {
                displaySynonymQuestion(question);
            } else if (question.antonym) {
                displayAntonymQuestion(question);
            } else if (question.sentence) {
                displaySentenceCompletionQuestion(question);
            }
        }

        // Select option
        function selectOption(index, value) {
            if (answered) return;
            
            // Remove previous selections
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Select current option
            event.target.classList.add('selected');
            event.target.dataset.selected = 'true';
            event.target.dataset.value = value;
        }

        // Submit answer
        function submitAnswer() {
            if (answered) {
                nextQuestion();
                return;
            }

            let userAnswer = '';
            let correctAnswer = '';
            let isCorrect = false;

            const question = questions[currentQuestion];

            // Get user answer
            const selectedBtn = document.querySelector('.option-btn[data-selected="true"]');
            if (!selectedBtn) {
                showFeedback('Please select an answer!', false);
                return;
            }
            
            userAnswer = selectedBtn.dataset.value;
            
            // Determine correct answer based on question type
            if (question.correct) {
                correctAnswer = question.correct;
                isCorrect = userAnswer === correctAnswer;
            } else if (question.answer) {
                correctAnswer = question.answer;
                isCorrect = userAnswer === correctAnswer;
            } else if (question.antonym) {
                correctAnswer = question.antonym;
                isCorrect = userAnswer === correctAnswer;
            } else if (question.word) {
                correctAnswer = question.word;
                isCorrect = userAnswer === correctAnswer;
            }

            // Update score and stats
            if (isCorrect) {
                score++;
                stats.totalCorrect++;
            }
            stats.totalAnswered++;

            // Show visual feedback
            showAnswerFeedback(isCorrect, correctAnswer);
            
            answered = true;
            document.getElementById('submit-btn').textContent = 'Next';
        }

        // Show answer feedback
        function showAnswerFeedback(isCorrect, correctAnswer) {
            // Update option buttons visual feedback
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.style.pointerEvents = 'none';
                
                // Highlight user's selected answer
                if (btn.dataset.selected === 'true') {
                    btn.classList.add(isCorrect ? 'correct' : 'incorrect');
                }
                
                // Always highlight the correct answer in green
                if (btn.textContent === correctAnswer || btn.dataset.value === correctAnswer) {
                    btn.classList.add('correct');
                }
            });

            // Show enhanced feedback message with learning context
            let message = '';
            const question = questions[currentQuestion];
            
            if (isCorrect) {
                message = '🎉 <strong>Correct!</strong> Well done!';
            } else {
                // Show what they selected vs correct answer
                const selectedBtn = document.querySelector('.option-btn[data-selected="true"]');
                userAnswer = selectedBtn ? selectedBtn.textContent : 'No selection';
                
                message = `❌ <strong>Incorrect</strong><br><br>`;
                message += `<span style="color: #dc3545;">Your answer:</span> "${userAnswer}"<br>`;
                message += `<span style="color: #28a745; font-weight: bold;">Correct answer:</span> "${correctAnswer}"<br>`;
                
                // Add context for learning
                if (question.definition) {
                    message += `<br><div class="definition-context">💡 <strong>${question.word}</strong> means "${question.definition}"</div>`;
                } else if (question.sentence) {
                    message += `<br><div class="definition-context">💡 The word "<strong>${correctAnswer}</strong>" fits best in this context.</div>`;
                } else if (question.synonyms) {
                    message += `<br><div class="definition-context">💡 "<strong>${correctAnswer}</strong>" is a synonym for "<strong>${question.word}</strong>".</div>`;
                } else if (question.antonym) {
                    message += `<br><div class="definition-context">💡 "<strong>${correctAnswer}</strong>" is the opposite of "<strong>${question.word}</strong>".</div>`;
                } else if (question.root) {
                    message += `<br><div class="definition-context">💡 "<strong>${correctAnswer}</strong>" contains the root "<strong>${question.root}</strong>" meaning "${question.meaning}".</div>`;
                }
            }
            
            showFeedback(message, isCorrect);

            // Add animation
            const questionCard = document.querySelector('.question-card');
            questionCard.classList.add(isCorrect ? 'pulse' : 'shake');
            setTimeout(() => {
                questionCard.classList.remove('pulse', 'shake');
            }, 600);
        }

        // Show feedback
        function showFeedback(message, isCorrect) {
            const feedback = document.getElementById('feedback');
            
            // Replace \n with <br> for proper line breaks in HTML
            const htmlMessage = message.replace(/\n/g, '<br>');
            
            feedback.innerHTML = htmlMessage;
            feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.style.display = 'block';
        }

        // Next question
        function nextQuestion() {
            currentQuestion++;
            updateProgress();
            displayQuestion();
        }

        // Update progress
        function updateProgress() {
            const progress = (currentQuestion / totalQuestions) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
            document.getElementById('progress-text').textContent = `${currentQuestion} / ${totalQuestions}`;
            document.getElementById('current-score').textContent = `Score: ${score}`;
        }

        // Show completion screen
        function showCompletionScreen() {
            stats.totalCompleted++;
            updateStatsDisplay();

            const percentage = Math.round((score / totalQuestions) * 100);
            let encouragement = '';
            
            if (percentage >= 90) {
                encouragement = '🌟 Outstanding! You\'re a vocabulary master!';
            } else if (percentage >= 80) {
                encouragement = '🎯 Excellent work! Keep it up!';
            } else if (percentage >= 70) {
                encouragement = '👏 Good job! You\'re making great progress!';
            } else if (percentage >= 60) {
                encouragement = '📚 Not bad! Keep practicing to improve!';
            } else {
                encouragement = '💪 Keep studying! Practice makes perfect!';
            }

            document.getElementById('question-content').innerHTML = `
                <div class="completion-screen">
                    <h2>🎊 Quiz Complete!</h2>
                    <div class="final-score">You scored ${score} out of ${totalQuestions}</div>
                    <div class="final-score">${percentage}%</div>
                    <div class="encouragement">${encouragement}</div>
                    <div class="action-buttons" style="margin-top: 30px;">
                        <button class="btn btn-primary" onclick="startGame('${currentGame}')">Try Again</button>
                        <button class="btn btn-secondary" onclick="goHome()">Main Menu</button>
                    </div>
                </div>
            `;
            
            // Hide submit button
            document.getElementById('submit-btn').style.display = 'none';
            document.getElementById('feedback').style.display = 'none';
            
            // Update question title
            document.getElementById('question-title').textContent = 'Results';
            document.getElementById('question-text').textContent = '';
        }

        // Go back to home
        function goHome() {
            document.getElementById('main-menu').style.display = 'block';
            document.getElementById('game-area').style.display = 'none';
            document.getElementById('game-area').classList.remove('active');
            document.getElementById('submit-btn').style.display = 'block';
            document.getElementById('submit-btn').textContent = 'Submit';
            updateStatsDisplay();
        }

        // Initialize app
        function initApp() {
            updateStatsDisplay();
        }

        // Start the app when page loads
        document.addEventListener('DOMContentLoaded', initApp);

        // Prevent zoom on double tap for better mobile experience
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>
</body>
</html>
